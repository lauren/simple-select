/*
 * Copyright 2013 Lauren Sperber
 * https://github.com/lauren/simple-select/blob/master/LICENSE
 */var simpleSelect=function(){var e=function(e){var e=e.split(" "),i=document.getElementsByTagName("*");for(var s=0;s<e.length;s++)switch(e[s].charAt(0)){case"#":e[s]={id:e[s]};break;case".":e[s]={classes:[e[s]]};break;default:e[s]={node:e[s]}}for(var s=0;s<e.length;s++)e[s].classes&&(e[s].classes=n(e[s].classes[0])),e[s].node&&(/#/.test(e[s].node)&&(e[s]=t(e[s].node)),/\./.test(e[s].node)&&(e[s].classes=n(e[s].node),e[s].node=e[s].node.split(".")[0])),e[s].id&&/\./.test(e[s].id)&&(e[s].classes=n(e[s].id),e[s].id=e[s].id.split(".")[0]);return r(i,u,e)},t=function(e){var t=e.split("#");return{node:t[0],id:"#"+t[1]}},n=function(e){var t=e.split(".");t.shift();for(var n=0;n<t.length;n++)t[n]="."+t[n];return t},r=function(e,t,n){var r=[];for(var s=0;s<e.length;s++)t(e[s],i(e[s]),n)&&r.push(e[s]);return r},i=function(e){var t=[];while(e.parentNode)t.unshift(e.parentNode),e=e.parentNode;return t},s=function(e,t){var n=e.nodeName.toLowerCase(),r=e.className.split(" "),i="#"+e.id,s;for(var o=0;o<r.length;o++)r[o]="."+r[o];return t.node&&(s=t.node===n),t.id&&(s=t.id===i),t.classes&&(s=f(t.classes,r)),s},o=function(e,t){var n=e.slice(0).pop(),r;return result={match:!1,matchingElement:!1},e.length<=1?(result.match=!1,result):(r=s(n,t),r?(result.match=!0,result.matchingElement=n,result):(o(e.slice(0,e.length-1),t),result))},u=function(e,t,n){var r=n.length,a=n[r-1],f=n[r-2],l,c,h;if(n.length===0)h=!1;else if(n.length===1)h=s(e,n[0]);else if(s(e,a)&&t.length>1){l=o(t,f);if(l.match){if(n.length!==2)return c=i(l.matchingElement),u(l.matchingElement,c,n.slice(0,n.length-1));h=!0}else h=!1}else h=!1;return h},a=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},f=function(e,t){return e.length===0?!0:a(t,e[0])>-1&&f(e.slice(1),t)};return e}();